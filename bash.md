# Bash

Bash (Bourne Again Shell) — это один из самых популярных командных интерпретаторов на Unix-подобных системах, таких как Linux. Он широко используется для написания скриптов автоматизации, управления системами и работы с файлами. Вот основные концепции Bash с примерами:

1. Переменные
   Переменные в Bash позволяют хранить данные, такие как строки или числа, и использовать их повторно.

- Объявление переменной:
  ```bash
  my_var="Hello, World!"
  echo $my_var  # Вывод переменной
  ```

2. Чтение пользовательского ввода
   Команда read используется для получения данных от пользователя.

- Пример:
  ```bash
  echo "Введите ваше имя:"
  read name
  echo "Привет, $name!"
  ```

3. Арифметические операции
   Bash поддерживает базовые арифметические операции с помощью команды expr или встроенного механизма $(( ... )).

- Пример:

  ```bash
  a=5
  b=3
  sum=$((a + b))  # Сложение
  echo "Сумма: $sum"
  ```

4. Условные конструкции (if-else)
   Конструкция if используется для выполнения условных операций.

- Пример:
  ```bash
    num=10
    if [ $num -gt 5 ]; then
    echo "$num больше 5"
    else
    echo "$num меньше или равно 5"
    fi
  ```

5. Циклы (for, while)
   Циклы в Bash позволяют выполнять команды многократно.

- Цикл for:
  ```bash
    for i in 1 2 3 4 5; do
    echo "Число: $i"
    done
  ```
- Цикл while:
  ```bash
    count=0
    while [ $count -lt 5 ]; do
    echo "Счётчик: $count"
    count=$((count + 1))
    done
  ```

6. Функции
   Функции позволяют группировать команды для многократного использования.

- Пример:

  ```bash
    function greet() {
        echo "Привет, $1!"
    }

    greet "Андрей"  # Вызов функции с параметром
  ```

7. Массивы
   Массивы используются для хранения нескольких значений в одной переменной.

- Пример:
  ```bash
    my_array=(apple banana cherry)
    echo ${my_array[0]}  # Вывод первого элемента массива
    echo ${my_array[@]}  # Вывод всех элементов массива
  ```

8. Работа с файлами и папками
   Bash предоставляет команды для работы с файлами и директориями.

- Пример создания файла:

  ```bash
    touch myfile.txt  # Создание файла
  ```

- Пример создания папки:
  ```bash
    mkdir myfolder  # Создание директории
  ```
- Пример копирования файла:
  ```bash
    cp myfile.txt myfile_copy.txt  # Копирование файла
  ```

9. Переадресация ввода/вывода
   Bash позволяет перенаправлять вывод команд в файлы или использовать данные из файлов в качестве входных данных.

- Запись вывода команды в файл:
  ```bash
    echo "Hello" > output.txt  # Записать в файл
  ```
- Добавление вывода в конец файла:
  ```bash
    echo "World" >> output.txt  # Добавить в файл
  ```
- Чтение данных из файла:
  ```bash
    cat < input.txt  # Прочитать файл и вывести его содержимое
  ```

10. Пайпы (Pipes)
    Пайпы (|) используются для передачи вывода одной команды как ввода другой.

- Пример:
  ```bash
    ls -l | grep ".txt"  # Найти все текстовые файлы в директории
  ```

11. Редирект ошибок
    Можно перенаправлять стандартные ошибки с помощью 2>.

- Пример:
  ```bash
    ls invalid_file 2> error.log  # Ошибка записывается в файл error.log
  ```

12. Обработка аргументов скрипта
    Bash-скрипты могут принимать параметры при запуске. Эти параметры передаются через специальные переменные.

- Пример:
  ```bash
    # script.sh
    echo "Первый параметр: $1"
    echo "Второй параметр: $2"
  ```
- Запуск скрипта:
  ```bash
    ./script.sh аргумент1 аргумент2
  ```

13. Запуск команд в фоновом режиме
    Использование амперсанда (&) позволяет запускать команду в фоне.

- Пример:
  ```bash
    long_running_command &
  ```

14. Планировщик задач (cron)
    Bash скрипты могут быть выполнены автоматически по расписанию с помощью cron.

- Пример: Открываем редактор cron:
  ```bash
    crontab -e
  ```
- Добавляем задачу:

```bash
   0 3 * * * /path/to/backup.sh  # Выполнять скрипт каждый день в 3:00
```

15. Сигналы и обработка сигналов
    Bash может обрабатывать системные сигналы, такие как прерывание (Ctrl+C).

- Пример:
  ```bash
    trap "echo 'Прерывание!'; exit" SIGINT  # Обработка сигнала прерывания
  ```

16. Завершение скрипта с кодом возврата
    Скрипты могут завершаться с определённым кодом возврата, который указывает успешность выполнения.

- Пример:
  ```bash
    exit 0  # Успешное завершение
    exit 1  # Ошибка
  ```

17. Работа с сетевыми командами
    Bash также поддерживает команды для работы с сетями, что полезно для DevOps-инженеров.

- Пример проверки доступности сервера:
  ```bash
    ping -c 4 google.com  # Отправить 4 пакета на сервер Google
  ```
- Пример проверки использования портов:
  ```bash
    netstat -tuln  # Показать все открытые порты
  ```

18. Установка привилегий (sudo)
    Для выполнения команд с правами суперпользователя можно использовать sudo.

- Пример:
  ```bash
    sudo apt-get update  # Обновление пакетов с правами суперпользователя
  ```

19. Ветвление с использованием case
    case используется для выбора различных вариантов на основе значения переменной.

- Пример:
  ```bash
    day="понедельник"
    case $day in
    "понедельник") echo "Сегодня понедельник.";;
    "вторник") echo "Сегодня вторник.";;
    *) echo "Неизвестный день.";;
    esac
  ```

20. Командные подстановки
    Командная подстановка позволяет использовать результат одной команды в качестве значения для переменной или аргумента другой команды.

- Пример:

  ```bash
    date_now=$(date +"%Y-%m-%d")  # Сохраняет текущую дату в переменной
    echo "Текущая дата: $date_now"
  ```
